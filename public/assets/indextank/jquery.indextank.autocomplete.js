(function(e){e.Indextank||(e.Indextank=new Object),e.Indextank.Autocomplete=function(t,n){var r=this;r.$el=e(t),r.el=t,r.$el.data("Indextank.Autocomplete",r),r.init=function(){r.options=e.extend({},e.Indextank.Autocomplete.defaultOptions,n);var t=e(r.el.form).data("Indextank.Ize");r.$el.autocomplete({select:function(t,n){t.target.value=n.item.value,e(t.target.form).submit()},source:function(n,i){e.ajax({url:t.apiurl+"/v1/indexes/"+t.indexName+"/autocomplete",dataType:"jsonp",data:{query:n.term,field:r.options.fieldName},success:function(e){i(e.suggestions),r.$el.trigger("Indextank.Autocomplete.success",[e.suggestions])}})},minLength:r.options.minLength,delay:r.options.delay}),t.$el.submit(function(e){r.$el.data("autocomplete").close()}),r.$el.bind("Indextank.AjaxSearch.searching",function(e){})},r.init()},e.Indextank.Autocomplete.defaultOptions={fieldName:"text",minLength:2,delay:100},e.fn.indextank_Autocomplete=function(t){return this.each(function(){new e.Indextank.Autocomplete(this,t)})},e.fn.getIndextank_Autocomplete=function(){this.data("Indextank.Autocomplete")}})(jQuery);